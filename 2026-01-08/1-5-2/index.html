<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      console.log(`1. 가게 오픈`);

      setTimeout(() => {
        console.log(`4. 일반 손님 주문 완료`);
      }, 0);

      Promise.resolve().then(() => {
        console.log(`3. VIP 손님 입장`);
      });

      console.log(`2. 재료 준비`);

      // 동기 코드(1, 가게 오픈, 2. 재료 준비)가 먼저 실행되는 이유
      // JS는 단일 스레드이며, 현재 실행 중인 코드(동기 코드)를 끝낼 때까지는 다른 코드(일)을 실행할 수 없기 때문이다.
      // VIP(3번)가 4. 일반 손님 주문 완료보다 더 먼저 실행되는 이유
      // 이벤트 루트라는 것은 매크로태스크를 실행하기 전에 마이크로태스크를 전부 실행하고 비우도록 정해져 있기 때문이다.
    </script>
  </body>
</html>
